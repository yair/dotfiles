# albanialink.com email â€” neomutt config

{{ if eq .chezmoi.hostname "albanialink" -}}
# On bakkies: connect via localhost (cert is for mail.albanialink.com, skip verify)
set ssl_verify_host = no
set ssl_starttls = yes
{{ end -}}

# Passwords (GPG-encrypted)
source "gpg -d ~/.config/neomutt/passwords.gpg|"

# Account
set from = "yair@albanialink.com"
set realname = "Yair"

# IMAP
set imap_user = "yair@albanialink.com"
{{ if eq .chezmoi.hostname "albanialink" -}}
set folder = "imaps://localhost:993"
{{ else -}}
set folder = "imaps://mail.albanialink.com:993"
{{ end -}}
set spoolfile = "+INBOX"
set postponed = "+Drafts"
set trash = "+Trash"
set record = "+Sent"

# SMTP
{{ if eq .chezmoi.hostname "albanialink" -}}
set smtp_url = "smtps://yair%40albanialink.com@localhost:465"
{{ else -}}
set smtp_url = "smtps://yair%40albanialink.com@mail.albanialink.com:465"
{{ end -}}

# Check mail every 60 seconds
set mail_check = 60
set timeout = 30

# Display
set sort = reverse-date
set index_format = "%4C %Z %{%b %d} %-20.20L %s"
set date_format = "%d/%m/%y %H:%M"
set pager_stop = yes
set markers = no
set smart_wrap = yes

# Sidebar (folder list)
set sidebar_visible = yes
set sidebar_width = 24
set sidebar_format = "%D%* %N"
bind index,pager \Cp sidebar-prev
bind index,pager \Cn sidebar-next
bind index,pager \Co sidebar-open

# Vim-ish bindings
bind index j next-entry
bind index k previous-entry
bind index G last-entry
bind index g noop
bind index gg first-entry
bind pager j next-line
bind pager k previous-line
